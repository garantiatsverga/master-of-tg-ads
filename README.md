# Master of TG Ads

## Описание
Платформа для автоматизированного создания рекламных баннеров с использованием генерации изображений и текста. Система позволяет создавать баннеры для различных сценариев использования, включая рекламу в социальных сетях, серии баннеров для сторис и адаптацию под разные языки.

## Установка и запуск

### Требования
- Docker
- Docker Compose
- NVIDIA GPU с поддержкой CUDA (для Stable Diffusion)
- NVIDIA Container Toolkit (для поддержки GPU в Docker)

### Инструкции по запуску

#### Метод 1: Автоматическая установка (рекомендуется)

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/garantiatsverga/master-of-tg-ads.git
   cd master-of-tg-ads
   ```

2. Запустите скрипт установки зависимостей:
   ```bash
   python src/deps_installer.py
   ```
   Этот скрипт автоматически:
   - Установит все необходимые Python зависимости
   - Скачает и настроит Stable Diffusion
   - Создаст файл .env на основе .env.example

3. Запустите систему с помощью Docker Compose:
   ```bash
   docker-compose up --build
   ```

4. После запуска система будет доступна по адресу `http://localhost:8000`.

#### Метод 2: Ручная установка

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/garantiatsverga/master-of-tg-ads.git
   cd master-of-tg-ads
   ```

2. Создайте папку для моделей Stable Diffusion и скачайте модель:
   ```bash
   mkdir -p stable-diffusion-models
   # Скачайте модель (например, v1-5-pruned-emaonly.ckpt) и поместите ее в папку stable-diffusion-models
   ```

3. Создайте файл `.env` на основе `.env.example` и настройте необходимые переменные окружения.

4. Запустите систему с помощью Docker Compose:
   ```bash
   docker-compose up --build
   ```

5. После запуска система будет доступна по адресу `http://localhost:8000`.

### Подробная инструкция по настройке Stable Diffusion

См. [SD_SETUP_GUIDE.md](SD_SETUP_GUIDE.md) для подробной инструкции по установке и настройке Stable Diffusion.

## Сценарии использования

### Сценарий 1: Создание баннера для рекламы в соцсетях
1. Перейдите на главную страницу.
2. Введите описание рекламного баннера в соответствующее поле.
3. Нажмите кнопку "Сгенерировать".
4. Система сгенерирует 3 варианта баннера с изображением и текстом.
5. Вы можете скачать все варианты или выбрать лучший для дальнейшего редактирования.

### Сценарий 2: Генерация серии баннеров для сторис
1. Перейдите в раздел "Сторис".
2. Введите общее описание для серии баннеров.
3. Укажите количество баннеров (например, 5).
4. Нажмите кнопку "Сгенерировать серию".
5. Система создаст 5 стилистически согласованных баннеров, каждый со своим заголовком и визуальным акцентом.

### Сценарий 3: Адаптация баннера под разные языки
1. Перейдите в раздел "Мультиязычные баннеры".
2. Введите описание баннера.
3. Укажите языки, на которые нужно адаптировать баннер (например, русский, английский, испанский).
4. Нажмите кнопку "Сгенерировать".
5. Система создаст баннеры с одинаковой визуальной стилистикой, но с текстами на указанных языках.

### Сценарий 4: Интерактивное редактирование
1. Сгенерируйте баннер, используя один из вышеописанных сценариев.
2. Выберите баннер для редактирования.
3. Введите команды для редактирования, например:
   - "Сделай заголовок больше"
   - "Добавь больше зелёного"
   - "Поменяй фон"
4. Система применит изменения к баннеру.

## Примеры запросов и ответов

### Пример 1: Создание баннера для рекламы
**Запрос:**
```
Описание: Реклама нового смартфона с акцентом на камеру и дизайн.
```

**Ответ:**
Система сгенерирует 3 варианта баннера с изображением смартфона и текстом, подчеркивающим преимущества камеры и дизайна.

### Пример 2: Генерация серии баннеров для сторис
**Запрос:**
```
Описание: Серия баннеров для рекламы нового фитнес-приложения.
Количество: 5
```

**Ответ:**
Система создаст 5 баннеров, каждый из которых будет посвящен одному из преимуществ приложения: тренировки, питание, отслеживание прогресса и т.д.

### Пример 3: Адаптация баннера под разные языки
**Запрос:**
```
Описание: Реклама нового автомобиля.
Языки: русский, английский, испанский
```

**Ответ:**
Система сгенерирует 3 баннера с одинаковым изображением, но с текстами на русском, английском и испанском языках.

## Скриншоты интерфейса

### Главная страница
![Главная страница](screenshots/main_page.png)

### Страница генерации баннеров
![Страница генерации баннеров](screenshots/generation_page.png)

### Страница редактирования баннера
![Страница редактирования баннера](screenshots/editing_page.png)

## Архитектура системы

Система состоит из следующих модулей:
- **Модуль генерации изображений**: Отвечает за создание изображений на основе текстового описания с использованием Stable Diffusion.
- **Модуль генерации текста**: Генерирует текст для баннеров с использованием языковых моделей.
- **Модуль композиции баннера**: Объединяет изображение и текст в единый баннер.
- **Веб-интерфейс**: Предоставляет пользовательский интерфейс для взаимодействия с системой.
- **Stable Diffusion**: Локальный сервис для генерации и апскейла изображений.

## Лицензия

Этот проект лицензируется в соответствии с лицензией Apache 2.0. Подробности см. в файле [LICENSE](LICENSE).